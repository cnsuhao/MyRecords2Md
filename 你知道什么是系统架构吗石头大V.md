---
title: 你知道什么是系统架构吗
date: 2018-02-13 17:10:43
categories: "开发"
tags:
	- Nginx
	- 脚本语言
	- 程序员
	- 软件
	- HTML

---

比如说随便一个软件比如说王者荣耀，随着功能越来越多，整个软件系统逐渐碎片化，如果不采取有效措施，软件系统就会越来越无序，最终无法维护和扩展，所以说软件在一段时间的生长后，就需要及时干预，避免越来越无序，架构的本质就是对软件系统进行有序化重构，使软件系统不断进化。
![你知道什么是系统架构吗][6JVM-UZEJ-VB3A.jpg]1、架构的分与合

那架构是如何实现无序到有序的呢，基本的手段就是分和合，分的过程是把系统拆分为各个子系统/模块/组件，首先要解决每个组件的定位问题，然后才能划分彼此的边界，实现合理的拆分，合就是根据最终要求，把各个分离的组件有机整合在一起。

分的结果使开发人员能够做到业务聚焦、技能聚焦，实现开发敏捷，合的结果是系统变得柔性，可以因需而变，实现业务敏捷。 如一个ASP页面里，HTML和脚本代码混在一起，此时脚本代码越多，系统越混乱，最终连开发者自己都无法理解，此时就需要对系统重新架构，办法是引入view helper模式，分离HTML和脚本，HTML成为view，脚本成为帮助类，然后再简单整合在一起。通过重新分和合，整个系统层次清晰，职责明确，系统的无序度降低，容易扩展，不同职业的开发人员可以负责不同部分，有效提高开发效率。
![你知道什么是系统架构吗][JMVA-BBQN-7ZAM.jpg]2、架构分类和服务对象

架构一般可分业务架构、应用架构、技术架构。一个软件系统从开发到使用全过程中，对于负责开发的人来说，怕的是功能太复杂，代码逻辑太乱，超出他能理解的范畴，系统无法维护，因此开发的需求是系统整体概念清晰，容易理解，方便扩展。对于负责运行的机器来说，怕的是业务并发量太大，系统核心资源不够用(如数据库连接)，它希望在业务量增加时，系统能够支持水平扩展，支持硬件容错(如避免单点故障)。
![你知道什么是系统架构吗][2IRQ-MRZI-Y2AR.jpg]软件开发者的担心主要由业务架构和应用架构决定，业务架构从概念层面帮助开发理解系统(动态的包括业务流程/节点/输入输出，静态的包括业务域/业务模块/单据模型)，应用架构从逻辑层面帮助开发落地系统(应用种类/应用形式/数据交互关系/交互方式等)，整个系统逻辑上容易理解。机器的担心主要由技术架构解决，如技术平台选型(操作系统/中间件/设备等)，部署上希望支持多机房，水平扩展等。系统是人的系统，架构首先是为人服务的，业务概念清晰、应用逻辑合理、容易理解是第一位的，体架构设计时，首先要关注业务架构和应用架构。

3、整体架构

软件的整体结构主要由以下几方面决定。

3.1、负载均衡系统

负载均衡系统分为硬件和软件两种，硬件负载均衡效率高，价格贵。软件负载均衡系统价格便宜，效率低。

3.2、反向代理系统

普遍使用的是Squid、nginx、Lighttpd、Varish。这四者又各自有很大的差异。Squid：主要用来做反向代理，使用内存+硬盘。Nginx：可以反向代理+负载均衡+WWW解析。Lighttpd：反向代理能力一般，处理FastCGI比较好，消耗内存很小。Varish：主要做内存的反向代理，性能最优。

3.3、Web服务器系统

由Apache负责解析PHP内容，或者Nginx或者Lighttpd，相对来说Apache比较稳定。

3.4、分布式存储系统

存储量很大，经常会达到单台服务器无法提供的规模，比如相册、视频等应用，因此需要专业的大规模存储系统。

3.5、底层服务系统

根据各自需要由C/C++开发设计供上层CGI调用。

3.6、数据库系统

要考虑到Web应用的数据库读多写少的特点，要对读数据库做了优化，提供专用的读数据库和写数据库，在应用程序中实现读操作和写操作分别访问不同的数据库，要使用同步机制实现快速将主库(写库)的数据库复制到从库(读库)，一个主库对应多个从库，主库数据实时同步到从库，写数据库有多台，每台都可以提供多个应用共同使用，这样可以解决写库的性能瓶颈问题和单点故障问题。
![你知道什么是系统架构吗][RU3I-VABB-J3UR.jpg]4、架构师能力模型

架构师只做分和合的事情，但综合能力要求很高，要求内外兼修，架构师要有技术的广度(多领域知识)，又有深度(技术前瞻)，对主流公司的系统设计非常了解，知道优劣长短，碰到实际问题，很快有多种方案可供评估。抽象思维是架构师最重要的能力，架构师要善于把实物概念化并归类，比如面对一个B2C网站，能够迅速抽象为采购->运营->前台搜索->下单->履单这几大块，对系统分而治之。抽象思维是高层次的总结升华，比如看到一段Java代码，知道它在JVM如何执行，看到一个跨网络调用代码，知道数据是如何通过各种介质到达目标(操作系统内核/网卡端口/电磁介质等)，架构师要提高自己的抽象思维能力。

5、架构境界

架构师从境界上由浅到深可以分为四个阶段，刚接手项目时，对业务不了解，时时被业务方冒出的术语弄得一愣一愣的，这是第一阶段。经过业务梳理和对系统深入了解，设计出一个屌丝的方案，这是第二阶段。把各个系统串起来，优化一下，这是第三阶段。通过进一步抽象，发现问题的本质，原来这个问题是共性的，后续还会有很多类似问题。设计上进行总结和升华，得出一个通用的方案，不光能解决当前的问题，还可以解决潜在的问题，这是第四阶段。
![你知道什么是系统架构吗][IYNQ-FQFY-RYVR.jpg]读到这里，你知道什么是系统架构了吗！


[6JVM-UZEJ-VB3A.jpg]: /pro/os/crawler/6JVM-UZEJ-VB3A.jpg
[JMVA-BBQN-7ZAM.jpg]: /pro/os/crawler/JMVA-BBQN-7ZAM.jpg
[2IRQ-MRZI-Y2AR.jpg]: /pro/os/crawler/2IRQ-MRZI-Y2AR.jpg
[RU3I-VABB-J3UR.jpg]: /pro/os/crawler/RU3I-VABB-J3UR.jpg
[IYNQ-FQFY-RYVR.jpg]: /pro/os/crawler/IYNQ-FQFY-RYVR.jpg
 *  **原文作者：** 石头大V
 *  **原文链接：** https://www.toutiao.com/item/6521963859585008141/
 *  **版权声明：** 本博客所有文章除特别声明外，均采用 [CC BY-NC-SA 4.0][] 许可协议。转载请注明出处。