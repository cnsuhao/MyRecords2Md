---
title: 啥是推荐系统啊
date: 2018-04-28 17:35:32
categories: "开发"
tags:
	- 推荐技术
	- 电子商务

---

![啥是推荐系统啊][152490808406278ec43b49c]

推荐引擎解决的几个问题

1、主动的用户，通过类目核搜索进行引导，对结果页进行干预

2、被动的用户，通过用户的历史行为分析，推荐用户可能感兴趣的商品

3、对商家来讲，帮助商家卖出更多的东西

a、商品质量非常好的商品

b、库存商品清理库存

c、同质同量的竞争性商品

推荐系统一般由三个部分组成：基础数据、推荐算法系统、前台展示。

基础数据包括很多维度，包括用户的访问、浏览、下单、收藏，用户的历史订单信息，评价信息等很多信息；推荐系统主要是根据不同的推荐诉求由多个算法组成的推荐模型；前台展示主要是对客户端系统进行响应，返回相关的推荐信息以供展示。

用户的偏好信息可以分为两类：

显示的用户反馈：这类是用户在网站上自然浏览或者使用网站以外，显示的提供反馈信息，例如用户对物品的评分，或者对物品的评论。

隐式的：隐式的这类是用户在使用网站时产生的数据，隐式的反应了用户对物品的喜好，例如用户查看了某物品的信息等等用户反馈。

显式的用户反馈能精准的反应用户对物品的真实喜好，但需要用户付出额外的代价，而隐式的用户行为，通过一些分析和处理，也能反映用户的喜好，只是数据不是很精准，有些行为的分析存在较大噪音。但只要选择正确的行为特征，隐式的用户反馈也能得到很好的效果，只是行为特征的选择可能在不同的应用中有很大的不同，例如在电子商务的网站上，购买行为其实就算是一个能很好表现用户喜好的隐式反馈。

推荐引擎的分类

根据目标用户进行区分：分为基于大众行为的推荐引擎和个性化推荐引擎

根据数据源进行区分：基于人口统计学的推荐。根据系统用户的基本信息发现用户的相关性。

基于内容的推荐。根据推荐物品或内容的元数据，发现物品或者内容的相关性。

协同过滤的推荐：根据用户对物品或者信息的偏好，发现物品或者内容本身的相关性，或者发现用户的相关性。

根据推荐模型进行区分：1、基于物品和用户本身的。2、基于关联规则的推荐。3、基于模型的推荐

其实在现在的推荐系统中，很少有只使用一个推荐策略的推荐引擎，一般都是在不同的场景下使用不同的推荐策略从而达到最好的推荐效果

常见的推荐算法

基于用户的协同过滤算法

如果给A推荐商品

寻找相似度用户集:D(10) E(5) B(4)

A a b c d g(用户购买过的商品尽可能不推荐)

D a b c d g....x y z

E a b c d g..h

B a b c d g...o

\---------------------------

可以推荐的结果集：\{x,y,z,h,o\}

冷启动问题：

由于基于用户的协同过滤算法是基于用户购买过的商品进行推荐，只有已经被用户选择（购买）的物品才有机会推荐给其他用户。对于一次都没有购买过的商品，是一个灾难，没机会出头了。

商品冷启动：没有被购买的商品如何推荐出去

用户冷启动：没有购买过的用户，推荐什么结果？默认推荐结果（TopN）

计算量大的问题：

对于一个拥有千万级活跃用户的电商网站来说，没计算一个用户都涉及到了上亿级别的计算

解决方案：

将网站中不同的用户群体通过聚类算法计算出来

400\*10大类别

10个类别分别计算用户之间的相似度，其实就是计算400个用户之间的相似度。

新用户怎么推荐？--------默认推荐

基于用户的协同过滤算法，推荐的商品都是已经被购买过的，对于没有被用户购买过的商品，该如何推荐？ ---------混合推荐，将多种推荐模型的结果打乱混合推荐

商品数据和用户数量都很大的情况下，如何处理？ ------ 按照一定的聚类策略，将用户聚类/物品聚类

基于物品的协同过滤算法

第二代协同过滤技术是基于物品的协同过滤算法，基于物品的协同过滤算法与基于用户的协同过滤算法基本类似。他使用所有用户对物品或者信息的偏好，发现物品和物品之间的相似度，然后根据用户的历史偏好信息，将类似的物品推荐给用户。这听起来比较拗口，简单的说就是几件商品同时被人购买了，就可以认为这几件商品是相似的，可能这几件商品的商品名称风马牛不相及，产品属性有天壤之别，但通过模型算出来之后就是认为他们是相似的。什么？你觉得不可思议，无法理解。是的，就是这么神奇！

A a c

B a b c

\-----------------

由于ac同时被购买了两次，认为ac相似

用户C 购买了a，由于ac相似，推荐c。

冷启动的问题：

用户冷启动：

一个新用户，如何进行推荐？默认推荐结果（TopN）

只要用户浏览了第一个商品，立即推荐。

商品冷启动：

一个商品从来没有被买过，怎么计算商品之间的相似度？

同类商品推荐（和算法没有关系）

基于人口统计学的推荐

它只是简单的根据系统用户的基本信息发现用户的相关程度，然后将相似用户喜爱的其他物品推荐给当前用户。

基于人口统计学的推荐机制的好处在于：因为不使用当前用户对物品的喜好历史数据，所以对于新用户来讲没有“冷启动（Cold Start）”的问题。这个方法不依赖于物品本身的数据，所以这个方法在不同物品的领域都可以使用，它是领域独立的

基于内容的推荐

它的核心思想是根据推荐物品或内容的元数据，发现物品或者内容的相关性，然后基于用户以往的喜好记录，推荐给用户相似的物品

于内容的推荐机制的好处在于它能很好的建模用户的口味，能提供更加精确的推荐。

但它也存在以下几个问题：

Ø 需要对物品进行分析和建模，推荐的质量依赖于对物品模型的完整和全面程度。在现在的应用中我们可以观察到关键词和标签（Tag）被认为是描述物品元数据的一种简单有效的方法；

Ø 物品相似度的分析仅仅依赖于物品本身的特征，这里没有考虑人对物品的态度；

Ø 因为需要基于用户以往的喜好历史做出推荐，所以对于新用户有“冷启动”的问题。

混合的推荐机制

l 加权的混合（Weighted Hybridization）: 用线性公式（linear formula）将几种不同的推荐按照一定权重组合起来，具体权重的值需要在测试数据集上反复实验，从而达到最好的推荐效果。

l 切换的混合（Switching Hybridization）：前面也讲到，其实对于不同的情况（数据量，系统运行状况，用户和物品的数目等），推荐策略可能有很大的不同，那么切换的混合方式，就是允许在不同的情况下，选择最为合适的推荐机制计算推荐。

l 分区的混合（Mixed Hybridization）：采用多种推荐机制，并将不同的推荐结果分不同的区显示给用户。其实，Amazon，当当网等很多电子商务网站都是采用这样的方式，用户可以得到很全面的推荐，也更容易找到他们想要的东西。

l 分层的混合（Meta-Level Hybridization）: 采用多种推荐机制，并将一个推荐机制的结果作为另一个的输入，从而综合各个推荐机制的优缺点，得到更加准确的推荐。

收集了用户行为数据，我们还需要对数据进行一定的预处理，其中最核心的工作就是：减噪和归一化

归一化：不同行为的数据取值可能相差很大，比如，用户的查看数据必然比购买数据大的多，如何将各个行为的数据统一在一个相同的取值范围中，从而使得加权求和得到的总体喜好更加精确，就需要我们进行归一化处理。最简单的归一化处理，就是将各类数据除以此类中的最大值，以保证归一化后的数据取值在 \[0,1\] 范围中。

聚类：聚类是把具有共同属性的物品进行归类

分类：分类技术决定了一个事物多大程度上从属于某种类别或类型，或者多大程度上具有或者不具有某些属性

mahout相似度实现有以下几种：

CityBlockSimilarity： 基于Manhattan距离相似度

EuclideanDistanceSimilarity : 基于欧几里德距离计算相似度

LogLikelihoodSimilarity:基于对数似然比的相似度

PearsonCorrelationSimilarity ：基于皮尔逊相关系数计算相似度

SpearmanCorrelationSimilarity: 基于皮尔斯曼相关系数相似度

TanimotoCoefficientSimilarity : 基于谷本系数计算相似度

UncenteredCosineSimilarity : 计算Cosine 相似度

UserNeighborhood 主要实现有两种：

NearestNUserNeighborhood：对每个用户取固定数量N个最近邻居

ThresholdUserNeighborhood：对每个用户基于一定的限制，取落在相似度限制以内的所有用户为邻居

Recommender分为以下几种实现：

Ø GenericUserBasedRecommender：基于用户的推荐引擎

Ø GenericBooleanPrefUserBasedRecommender：基于用户的无偏好值推荐引擎

Ø GenericItemBasedRecommender：基于物品的推荐引擎

Ø GenericBooleanPrefItemBasedRecommender：基于物品的无偏好值推荐引擎


[152490808406278ec43b49c]: http://p9.pstatp.com/large/pgc-image/152490808406278ec43b49c
 *  **原文作者：** 只不过是敷衍
 *  **原文链接：** https://www.toutiao.com/item/6549430465990754824/
 *  **版权声明：** 本博客所有文章除特别声明外，均采用 [CC BY-NC-SA 4.0][] 许可协议。转载请注明出处。