---
title: JS实现多行文本最后是省略号紧随其后还有个超链接在同一行的需求
date: 2018-05-11 14:22:59
categories: "开发"
tags:
	- 技术

---

最近公司项目中有如题所示的需求，原型图如下

![JS实现多行文本最后是省略号紧随其后还有个超链接在同一行的需求][JS]

当回复网友的评论只有一行时不显示查看全文，当有两行时多出的内容省略掉并显示查看全文的超链接。

实现思路如下：

1、布局及样式如下图：

![JS实现多行文本最后是省略号紧随其后还有个超链接在同一行的需求][JS 1]

2、js获得上图的div对象，然后判断div对象的高度，如果大于一行的高度了表示内容有两行了，再获得span标签里面的内容并用正则将后六个字符替换成“......”这里的实现代码可以这样写span.innerHTML = span.innerHTML.replace(/.(.........)?$/,"......");然后再将a链接的display属性设置为a.style.display="";将a超链接显示出来即可。

由于是公司正在开发的项目，完整代码就不贴上来了，欢迎批评指正。

一起学习，互相督促进步，欢迎关注我~


[JS]: /pro/os/crawler/2Q77-JRBA-JAJZ.jpg
[JS 1]: /pro/os/crawler/UUJR-YFNF-NYJR.jpg
 *  **原文作者：** jscode
 *  **原文链接：** https://www.toutiao.com/item/6554205045603172871/
 *  **版权声明：** 本博客所有文章除特别声明外，均采用 [CC BY-NC-SA 4.0][] 许可协议。转载请注明出处。